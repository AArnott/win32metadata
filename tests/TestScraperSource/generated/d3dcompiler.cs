// Copyright Â© Microsoft
using Microsoft.Windows.Sdk.Win32Metadata.Interop;
using System;
using System.Runtime.InteropServices;

namespace Microsoft.Windows.Sdk.Win32Metadata
{
    [UnmanagedFunctionPointer(CallingConvention.Winapi)]
    [return: NativeTypeName("HRESULT")]
    public unsafe delegate int pD3DCompile([NativeTypeName("LPCVOID")] void* pSrcData, [NativeTypeName("SIZE_T")] UIntPtr SrcDataSize, [NativeTypeName("LPCSTR")] [Const] [NativeTypeInfo(UnmanagedType.LPStr, IsNullTerminated = true)] sbyte* pFileName, [NativeTypeName("const D3D_SHADER_MACRO *")] [Const] D3D_SHADER_MACRO* pDefines, [NativeTypeName("ID3DInclude *")] ID3DInclude* pInclude, [NativeTypeName("LPCSTR")] [Const] [NativeTypeInfo(UnmanagedType.LPStr, IsNullTerminated = true)] sbyte* pEntrypoint, [NativeTypeName("LPCSTR")] [Const] [NativeTypeInfo(UnmanagedType.LPStr, IsNullTerminated = true)] sbyte* pTarget, [NativeTypeName("UINT")] uint Flags1, [NativeTypeName("UINT")] uint Flags2, [NativeTypeName("ID3DBlob **")] ID3DBlob** ppCode, [NativeTypeName("ID3DBlob **")] ID3DBlob** ppErrorMsgs);

    [UnmanagedFunctionPointer(CallingConvention.Winapi)]
    [return: NativeTypeName("HRESULT")]
    public unsafe delegate int pD3DPreprocess([NativeTypeName("LPCVOID")] void* pSrcData, [NativeTypeName("SIZE_T")] UIntPtr SrcDataSize, [NativeTypeName("LPCSTR")] [Const] [NativeTypeInfo(UnmanagedType.LPStr, IsNullTerminated = true)] sbyte* pFileName, [NativeTypeName("const D3D_SHADER_MACRO *")] [Const] D3D_SHADER_MACRO* pDefines, [NativeTypeName("ID3DInclude *")] ID3DInclude* pInclude, [NativeTypeName("ID3DBlob **")] ID3DBlob** ppCodeText, [NativeTypeName("ID3DBlob **")] ID3DBlob** ppErrorMsgs);

    [UnmanagedFunctionPointer(CallingConvention.Winapi)]
    [return: NativeTypeName("HRESULT")]
    public unsafe delegate int pD3DDisassemble([NativeTypeName("LPCVOID")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 1)][In] void* pSrcData, [NativeTypeName("SIZE_T")] [In] UIntPtr SrcDataSize, [NativeTypeName("UINT")] [In] uint Flags, [NativeTypeName("LPCSTR")] [Const] [NativeTypeInfo(UnmanagedType.LPStr, IsNullTerminated = true)] [In][Optional] sbyte* szComments, [NativeTypeName("ID3DBlob **")] [Out] ID3DBlob** ppDisassembly);

    public enum D3DCOMPILER_STRIP_FLAGS
    {
        D3DCOMPILER_STRIP_REFLECTION_DATA = 0x00000001,
        D3DCOMPILER_STRIP_DEBUG_INFO = 0x00000002,
        D3DCOMPILER_STRIP_TEST_BLOBS = 0x00000004,
        D3DCOMPILER_STRIP_PRIVATE_DATA = 0x00000008,
        D3DCOMPILER_STRIP_ROOT_SIGNATURE = 0x00000010,
        D3DCOMPILER_STRIP_FORCE_DWORD = 0x7fffffff,
    }

    public enum D3D_BLOB_PART
    {
        D3D_BLOB_INPUT_SIGNATURE_BLOB,
        D3D_BLOB_OUTPUT_SIGNATURE_BLOB,
        D3D_BLOB_INPUT_AND_OUTPUT_SIGNATURE_BLOB,
        D3D_BLOB_PATCH_CONSTANT_SIGNATURE_BLOB,
        D3D_BLOB_ALL_SIGNATURE_BLOB,
        D3D_BLOB_DEBUG_INFO,
        D3D_BLOB_LEGACY_SHADER,
        D3D_BLOB_XNA_PREPASS_SHADER,
        D3D_BLOB_XNA_SHADER,
        D3D_BLOB_PDB,
        D3D_BLOB_PRIVATE_DATA,
        D3D_BLOB_ROOT_SIGNATURE,
        D3D_BLOB_DEBUG_NAME,
        D3D_BLOB_TEST_ALTERNATE_SHADER = 0x8000,
        D3D_BLOB_TEST_COMPILE_DETAILS,
        D3D_BLOB_TEST_COMPILE_PERF,
        D3D_BLOB_TEST_COMPILE_REPORT,
    }

    public unsafe partial struct D3D_SHADER_DATA
    {
        [NativeTypeName("LPCVOID")]
        public void* pBytecode;

        [NativeTypeName("SIZE_T")]
        public UIntPtr BytecodeLength;
    }

    public partial struct ID3D10Effect
    {
    }

    public static unsafe partial class Apis
    {
        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DReadFileToBlob([NativeTypeName("LPCWSTR")] [Const] [NativeTypeInfo(UnmanagedType.LPWStr, IsNullTerminated = true)] [In] ushort* pFileName, [NativeTypeName("ID3DBlob **")] [Out] ID3DBlob** ppContents);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DWriteBlobToFile([NativeTypeName("ID3DBlob *")] [In] ID3DBlob* pBlob, [NativeTypeName("LPCWSTR")] [Const] [NativeTypeInfo(UnmanagedType.LPWStr, IsNullTerminated = true)] [In] ushort* pFileName, [NativeTypeName("BOOL")] [NativeTypeInfo(UnmanagedType.Bool)] [In] int bOverwrite);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DCompile([NativeTypeName("LPCVOID")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 1)][In] void* pSrcData, [NativeTypeName("SIZE_T")] [In] UIntPtr SrcDataSize, [NativeTypeName("LPCSTR")] [Const] [NativeTypeInfo(UnmanagedType.LPStr, IsNullTerminated = true)] [In][Optional] sbyte* pSourceName, [NativeTypeName("const D3D_SHADER_MACRO *")] [Const] [In][Optional] D3D_SHADER_MACRO* pDefines, [NativeTypeName("ID3DInclude *")] [In][Optional] ID3DInclude* pInclude, [NativeTypeName("LPCSTR")] [Const] [NativeTypeInfo(UnmanagedType.LPStr, IsNullTerminated = true)] [In][Optional] sbyte* pEntrypoint, [NativeTypeName("LPCSTR")] [Const] [NativeTypeInfo(UnmanagedType.LPStr, IsNullTerminated = true)] [In] sbyte* pTarget, [NativeTypeName("UINT")] [In] uint Flags1, [NativeTypeName("UINT")] [In] uint Flags2, [NativeTypeName("ID3DBlob **")] [Out] ID3DBlob** ppCode, [NativeTypeName("ID3DBlob **")] [Out][Optional] ID3DBlob** ppErrorMsgs);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DCompile2([NativeTypeName("LPCVOID")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 1)][In] void* pSrcData, [NativeTypeName("SIZE_T")] [In] UIntPtr SrcDataSize, [NativeTypeName("LPCSTR")] [Const] [NativeTypeInfo(UnmanagedType.LPStr, IsNullTerminated = true)] [In][Optional] sbyte* pSourceName, [NativeTypeName("const D3D_SHADER_MACRO *")] [Const] [In][Optional] D3D_SHADER_MACRO* pDefines, [NativeTypeName("ID3DInclude *")] [In][Optional] ID3DInclude* pInclude, [NativeTypeName("LPCSTR")] [Const] [NativeTypeInfo(UnmanagedType.LPStr, IsNullTerminated = true)] [In] sbyte* pEntrypoint, [NativeTypeName("LPCSTR")] [Const] [NativeTypeInfo(UnmanagedType.LPStr, IsNullTerminated = true)] [In] sbyte* pTarget, [NativeTypeName("UINT")] [In] uint Flags1, [NativeTypeName("UINT")] [In] uint Flags2, [NativeTypeName("UINT")] [In] uint SecondaryDataFlags, [NativeTypeName("LPCVOID")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 11)][In][Optional] void* pSecondaryData, [NativeTypeName("SIZE_T")] [In] UIntPtr SecondaryDataSize, [NativeTypeName("ID3DBlob **")] [Out] ID3DBlob** ppCode, [NativeTypeName("ID3DBlob **")] [Out][Optional] ID3DBlob** ppErrorMsgs);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DCompileFromFile([NativeTypeName("LPCWSTR")] [Const] [NativeTypeInfo(UnmanagedType.LPWStr, IsNullTerminated = true)] [In] ushort* pFileName, [NativeTypeName("const D3D_SHADER_MACRO *")] [Const] [In][Optional] D3D_SHADER_MACRO* pDefines, [NativeTypeName("ID3DInclude *")] [In][Optional] ID3DInclude* pInclude, [NativeTypeName("LPCSTR")] [Const] [NativeTypeInfo(UnmanagedType.LPStr, IsNullTerminated = true)] [In] sbyte* pEntrypoint, [NativeTypeName("LPCSTR")] [Const] [NativeTypeInfo(UnmanagedType.LPStr, IsNullTerminated = true)] [In] sbyte* pTarget, [NativeTypeName("UINT")] [In] uint Flags1, [NativeTypeName("UINT")] [In] uint Flags2, [NativeTypeName("ID3DBlob **")] [Out] ID3DBlob** ppCode, [NativeTypeName("ID3DBlob **")] [Out][Optional] ID3DBlob** ppErrorMsgs);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DPreprocess([NativeTypeName("LPCVOID")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 1)][In] void* pSrcData, [NativeTypeName("SIZE_T")] [In] UIntPtr SrcDataSize, [NativeTypeName("LPCSTR")] [Const] [NativeTypeInfo(UnmanagedType.LPStr, IsNullTerminated = true)] [In][Optional] sbyte* pSourceName, [NativeTypeName("const D3D_SHADER_MACRO *")] [Const] [In][Optional] D3D_SHADER_MACRO* pDefines, [NativeTypeName("ID3DInclude *")] [In][Optional] ID3DInclude* pInclude, [NativeTypeName("ID3DBlob **")] [Out] ID3DBlob** ppCodeText, [NativeTypeName("ID3DBlob **")] [Out][Optional] ID3DBlob** ppErrorMsgs);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DGetDebugInfo([NativeTypeName("LPCVOID")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 1)][In] void* pSrcData, [NativeTypeName("SIZE_T")] [In] UIntPtr SrcDataSize, [NativeTypeName("ID3DBlob **")] [Out] ID3DBlob** ppDebugInfo);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DReflect([NativeTypeName("LPCVOID")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 1)][In] void* pSrcData, [NativeTypeName("SIZE_T")] [In] UIntPtr SrcDataSize, [NativeTypeName("const IID &")] [Const] [In] Guid* pInterface, [NativeTypeName("void **")] [Out] void** ppReflector);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DReflectLibrary([NativeTypeName("LPCVOID")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 1)][In] void* pSrcData, [NativeTypeName("SIZE_T")] [In] UIntPtr SrcDataSize, [NativeTypeName("const IID &")] [Const] [In] Guid* riid, [NativeTypeName("LPVOID *")] [Out] void** ppReflector);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DDisassemble([NativeTypeName("LPCVOID")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 1)][In] void* pSrcData, [NativeTypeName("SIZE_T")] [In] UIntPtr SrcDataSize, [NativeTypeName("UINT")] [In] uint Flags, [NativeTypeName("LPCSTR")] [Const] [NativeTypeInfo(UnmanagedType.LPStr, IsNullTerminated = true)] [In][Optional] sbyte* szComments, [NativeTypeName("ID3DBlob **")] [Out] ID3DBlob** ppDisassembly);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DDisassembleRegion([NativeTypeName("LPCVOID")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 1)][In] void* pSrcData, [NativeTypeName("SIZE_T")] [In] UIntPtr SrcDataSize, [NativeTypeName("UINT")] [In] uint Flags, [NativeTypeName("LPCSTR")] [Const] [NativeTypeInfo(UnmanagedType.LPStr, IsNullTerminated = true)] [In][Optional] sbyte* szComments, [NativeTypeName("SIZE_T")] [In] UIntPtr StartByteOffset, [NativeTypeName("SIZE_T")] [In] UIntPtr NumInsts, [NativeTypeName("SIZE_T *")] [Out][Optional] UIntPtr* pFinishByteOffset, [NativeTypeName("ID3DBlob **")] [Out] ID3DBlob** ppDisassembly);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DCreateLinker([NativeTypeName("struct ID3D11Linker **")] [Out] ID3D11Linker** ppLinker);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DLoadModule([NativeTypeName("LPCVOID")] [In] void* pSrcData, [NativeTypeName("SIZE_T")] [In] UIntPtr cbSrcDataSize, [NativeTypeName("struct ID3D11Module **")] [Out] ID3D11Module** ppModule);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DCreateFunctionLinkingGraph([NativeTypeName("UINT")] [In] uint uFlags, [NativeTypeName("struct ID3D11FunctionLinkingGraph **")] [Out] ID3D11FunctionLinkingGraph** ppFunctionLinkingGraph);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DGetTraceInstructionOffsets([NativeTypeName("LPCVOID")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 1)][In] void* pSrcData, [NativeTypeName("SIZE_T")] [In] UIntPtr SrcDataSize, [NativeTypeName("UINT")] [In] uint Flags, [NativeTypeName("SIZE_T")] [In] UIntPtr StartInstIndex, [NativeTypeName("SIZE_T")] [In] UIntPtr NumInsts, [NativeTypeName("SIZE_T *")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 4)][Out][Optional] UIntPtr* pOffsets, [NativeTypeName("SIZE_T *")] [Out][Optional] UIntPtr* pTotalInsts);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DGetInputSignatureBlob([NativeTypeName("LPCVOID")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 1)][In] void* pSrcData, [NativeTypeName("SIZE_T")] [In] UIntPtr SrcDataSize, [NativeTypeName("ID3DBlob **")] [Out] ID3DBlob** ppSignatureBlob);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DGetOutputSignatureBlob([NativeTypeName("LPCVOID")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 1)][In] void* pSrcData, [NativeTypeName("SIZE_T")] [In] UIntPtr SrcDataSize, [NativeTypeName("ID3DBlob **")] [Out] ID3DBlob** ppSignatureBlob);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DGetInputAndOutputSignatureBlob([NativeTypeName("LPCVOID")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 1)][In] void* pSrcData, [NativeTypeName("SIZE_T")] [In] UIntPtr SrcDataSize, [NativeTypeName("ID3DBlob **")] [Out] ID3DBlob** ppSignatureBlob);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DStripShader([NativeTypeName("LPCVOID")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 1)][In] void* pShaderBytecode, [NativeTypeName("SIZE_T")] [In] UIntPtr BytecodeLength, [NativeTypeName("UINT")] [In] uint uStripFlags, [NativeTypeName("ID3DBlob **")] [Out] ID3DBlob** ppStrippedBlob);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DGetBlobPart([NativeTypeName("LPCVOID")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 1)][In] void* pSrcData, [NativeTypeName("SIZE_T")] [In] UIntPtr SrcDataSize, [In] D3D_BLOB_PART Part, [NativeTypeName("UINT")] [In] uint Flags, [NativeTypeName("ID3DBlob **")] [Out] ID3DBlob** ppPart);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DSetBlobPart([NativeTypeName("LPCVOID")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 1)][In] void* pSrcData, [NativeTypeName("SIZE_T")] [In] UIntPtr SrcDataSize, [In] D3D_BLOB_PART Part, [NativeTypeName("UINT")] [In] uint Flags, [NativeTypeName("LPCVOID")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 5)][In] void* pPart, [NativeTypeName("SIZE_T")] [In] UIntPtr PartSize, [NativeTypeName("ID3DBlob **")] [Out] ID3DBlob** ppNewShader);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DCreateBlob([NativeTypeName("SIZE_T")] [In] UIntPtr Size, [NativeTypeName("ID3DBlob **")] [Out] ID3DBlob** ppBlob);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DCompressShaders([NativeTypeName("UINT")] [In] uint uNumShaders, [NativeTypeName("D3D_SHADER_DATA *")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 0)][In] D3D_SHADER_DATA* pShaderData, [NativeTypeName("UINT")] [In] uint uFlags, [NativeTypeName("ID3DBlob **")] [Out] ID3DBlob** ppCompressedData);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DDecompressShaders([NativeTypeName("LPCVOID")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 1)][In] void* pSrcData, [NativeTypeName("SIZE_T")] [In] UIntPtr SrcDataSize, [NativeTypeName("UINT")] [In] uint uNumShaders, [NativeTypeName("UINT")] [In] uint uStartIndex, [NativeTypeName("UINT *")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 2)][In][Optional] uint* pIndices, [NativeTypeName("UINT")] [In] uint uFlags, [NativeTypeName("ID3DBlob **")] [NativeTypeInfo(UnmanagedType.LPArray, SizeParamIndex = 2)][Out] ID3DBlob** ppShaders, [NativeTypeName("UINT *")] [Out][Optional] uint* pTotalShaders);

        [DllImport("D3DCOMPILER_47", ExactSpelling = true)]
        [return: NativeTypeName("HRESULT")]
        public static extern int D3DDisassemble10Effect([NativeTypeName("struct ID3D10Effect *")] [In] ID3D10Effect* pEffect, [NativeTypeName("UINT")] [In] uint Flags, [NativeTypeName("ID3DBlob **")] [Out] ID3DBlob** ppDisassembly);
    }
}
